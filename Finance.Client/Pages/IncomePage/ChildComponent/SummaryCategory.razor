@inherits SummaryCategoryBase

@if (ShowCategory)
{
	<div>
		<InputCheckbox id="showCategory" @bind-Value="ShowCategory" />
		<label for="showCategory">Показать категории @SelectedCurrency</label>
	</div>

	<table class="table table-striped table-bordered table-hover mb-2">
		<thead class="table-dark">
		<th>Категория</th>
		<th>Общая сумма</th>
		</thead>
		<tbody>
			@if (CategorySummary == null)
			{
				<h2>Категории не найдены</h2>
			}
			else
			{
				@foreach (var categoryIncome in CategorySummary)
				{
					<tr>
						<td>@categoryIncome.CategoryName</td>
						<td>@categoryIncome.TotalAmount</td>
					</tr>
				}
			}
		</tbody>
	</table>

	<div class="container">
		<div class="row">
			<div class="col-sm-12 col-lg-6 offset-lg-3 my-5">
				<RadzenChart SeriesClick=@OnSeriesClick>
					<RadzenPieSeries Data="@CategorySummary"
									 Title="Категории" 
									 CategoryProperty="CategoryName" 
							   		 ValueProperty="TotalAmount">

						<RadzenSeriesDataLabels Visible="true"/>
					</RadzenPieSeries>
				</RadzenChart>
			</div>
		</div>
	</div>


}
